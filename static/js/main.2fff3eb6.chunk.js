(window["webpackJsonpreact-components-tokbox"]=window["webpackJsonpreact-components-tokbox"]||[]).push([[0],{11:function(e,t,n){},35:function(e,t,n){e.exports=n(93)},93:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(32),o=n.n(i),r=n(3),c=n(4),l=n(7),u=n(5),d=n(6),h=(n(11),n(8)),b=function(e){function t(){return Object(r.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.connected?"Connected":"Disconnected";return s.a.createElement("div",{className:"ConnectionStatus"},s.a.createElement("strong",null,"Status:")," ",e)}}]),t}(s.a.Component),m=n(33),p=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onChange=function(e){var t=e.currentTarget.checked;n.setState({isChecked:t})},n.state={id:Object(m.uniqueId)("Checkbox"),isChecked:n.props.initialChecked},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidUpdate",value:function(e,t){t.isChecked!==this.state.isChecked&&"function"===typeof this.props.onChange&&this.props.onChange(this.state.isChecked)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("label",{htmlFor:this.state.id},this.props.label),s.a.createElement("input",{type:"checkbox",checked:this.state.isChecked,id:this.state.id,onChange:this.onChange}))}}]),t}(s.a.Component),E=(s.a.Component,n(9)),k=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).renderSubscribers=function(e){return console.log("Rendering subscribers!"),e.map((function(e){return s.a.createElement(h.OTSubscriberView,{streamId:e})}))},n.setAudio=function(e){n.setState({audio:e})},n.setVideo=function(e){n.setState({video:e})},n.showBoundingBox=function(e){var t=document.getElementById("bounding-box");if(t&&t.getContext){var a=t.getContext("2d");n.state.boxActive?a.clearRect(0,0,t.width,t.height):a.strokeRect(50,50,50,50)}n.setState({boxActive:e})},n.onError=function(e){n.setState({error:"Failed to subscribe: ".concat(e.message)})},n.state={error:null,audio:!0,video:!0,boxActive:!1},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"subscriber"},this.state.error?s.a.createElement("div",{id:"error"},this.state.error):null,s.a.createElement("div",{className:"subscriber-box"},s.a.createElement(h.OTSubscriber,{properties:{subscribeToAudio:this.state.audio,subscribeToVideo:this.state.video},onError:this.onError},this.renderSubscribers)),s.a.createElement("div",{className:"bounding-box"},s.a.createElement("canvas",{id:"bounding-box"})),s.a.createElement(p,{label:"Subscribe to Audio",initialChecked:this.state.audio,onChange:this.setAudio}),s.a.createElement(p,{label:"Subscribe to Video",initialChecked:this.state.video,onChange:this.setVideo}),s.a.createElement(p,{label:"Show Bounding Box",initialChecked:this.state.boxActive,onChange:this.showBoundingBox}))}}]),t}(s.a.Component),f=n(34),v=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onError=function(e){n.setState({error:"Failed to connect: ".concat(e.message)})},n.setAPIKey=function(e){n.setState({api_key:e.target.value})},n.setSessionId=function(e){n.setState({session_id:e.target.value})},n.setToken=function(e){n.setState({token:e.target.value})},n.handleSubmit=function(e){console.log("Submitting keys!"),n.setState({connected:!0}),e.preventDefault()},n.state={error:null,connected:!1,api_key:e.api_key,session_id:e.session_id,token:e.token},n.setAPIKey=n.setAPIKey.bind(Object(E.a)(n)),n.setSessionId=n.setSessionId.bind(Object(E.a)(n)),n.setToken=n.setToken.bind(Object(E.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(E.a)(n)),n.sessionEvents={sessionConnected:function(){n.setState({connected:!0})},sessionDisconnected:function(){n.setState({connected:!1})}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement("view",null,this.state.connected&&this.state.api_key&&this.state.session_id&&this.state.token?s.a.createElement(h.OTSession,{apiKey:this.state.api_key,sessionId:this.state.session_id,token:this.state.token,eventHandlers:this.sessionEvents,onError:this.onError},this.state.error?s.a.createElement("div",{id:"error"},this.state.error):null,s.a.createElement(b,{connected:this.state.connected}),s.a.createElement(f.OTPublisher,null),s.a.createElement(h.OTStreams,null,s.a.createElement(k,null))):s.a.createElement("form",{className:"subscriber-form",onSubmit:this.handleSubmit},s.a.createElement("h1",null,"TokBox React Demo"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("label",{for:"api_key"},"API Key"),s.a.createElement("input",{name:"api_key",type:"text",value:this.state.api_key,onChange:this.setAPIKey}),s.a.createElement("span",null,"Enter a valid TokBox API Key")),s.a.createElement("li",null,s.a.createElement("label",{for:"session_Id"},"Session ID"),s.a.createElement("input",{name:"session_Id",type:"text",value:this.state.session_id,onChange:this.setSessionId}),s.a.createElement("span",null,"Enter a valid Session ID for your TokBox Session")),s.a.createElement("li",null,s.a.createElement("label",{for:"token"},"Token"),s.a.createElement("input",{name:"token",type:"text",value:this.state.token,onChange:this.setToken}),s.a.createElement("span",null,"Enter a valid Token for your TokBox Session")),s.a.createElement("li",null,s.a.createElement("input",{type:"submit",value:"submit"})))))}}]),t}(s.a.Component),O=Object(h.preloadScript)(v),T=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).onError=function(e){n.setState({error:"Failed to connect: ".concat(e.message)})},n.state={error:null,connected:!1},n.sessionEvents={sessionConnected:function(){n.setState({connected:!0})},sessionDisconnected:function(){n.setState({connected:!1})}},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return s.a.createElement(O,{name:"Form",api_key:this.props.apiKey,session_id:this.props.sessionId,token:this.props.token})}}]),t}(s.a.Component),x=Object(h.preloadScript)(T),y="46418012",S="2_MX40NjQxODAxMn5-MTU2ODA4NTkyNzA5MX5UT2NXR2w3ZTR1aElNRmFTelB1RWRaZkp-fg",j="T1==cGFydG5lcl9pZD00NjQxODAxMiZzaWc9MmIxNDQwYTkyM2NmZThiZjExYjY1Mjg2YmExZmMxOTg3NWE4YjhmNTpzZXNzaW9uX2lkPTJfTVg0ME5qUXhPREF4TW41LU1UVTJPREE0TlRreU56QTVNWDVVVDJOWFIydzNaVFIxYUVsTlJtRlRlbEIxUldSYVprcC1mZyZjcmVhdGVfdGltZT0xNTY4MDg1OTQxJm5vbmNlPTAuNjE2OTI4NzIxMDE0NTE3NiZyb2xlPW1vZGVyYXRvciZleHBpcmVfdGltZT0xNTcwNjc3OTQxJmluaXRpYWxfbGF5b3V0X2NsYXNzX2xpc3Q9";o.a.render(s.a.createElement(x,{apiKey:y,sessionId:S,token:j}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.2fff3eb6.chunk.js.map